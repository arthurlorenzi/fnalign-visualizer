(this["webpackJsonpfnalign-visualizer"]=this["webpackJsonpfnalign-visualizer"]||[]).push([[0],{40:function(t,e,r){t.exports=r(54)},45:function(t,e,r){},47:function(t,e,r){},50:function(t,e,r){},52:function(t,e,r){},53:function(t,e,r){},54:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),i=r(6),o=r.n(i),u=(r(45),r(46),r(47),r(7)),c=r(8),s=r(20),l=r(15),d=r(21),h=r(59),f=r(9),y=r(3),p={version:"1.1.8",bP:function(){var t,e,r,n,a,i,o,u,c,s,l,d,h,f,p,m,g;function v(t){d=t,t.each((function(){var t=y.d(this),e=v.bars(),r=t.selectAll(".subBars").data(e.subBars).enter().append("g").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).attr("class","subBars").append("rect").attr("x",w).attr("y",k).attr("width",b).attr("height",x);"undefined"!==typeof l&&r.style("fill",(function(t){return l(t)}));var n=t.selectAll(".edges").data(e.edges).enter().append("path").attr("class","edges").attr("d",(function(t){return t.path})).style("fill-opacity",v.edgeOpacity());"undefined"!==typeof l&&n.style("fill",(function(t){return l(t)})),t.selectAll(".mainBars").data(e.mainBars).enter().append("g").attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).attr("class","mainBars").append("rect").attr("x",w).attr("y",k).attr("width",b).attr("height",x).style("fill-opacity",0).on("mouseover",v.mouseover).on("mouseout",v.mouseout)}))}function w(t){return-t.width}function k(t){return-t.height}function b(t){return 2*t.width}function x(t){return 2*t.height}return v.data=function(t){return arguments.length?(s=t,v):s},v.fill=function(t){return arguments.length?(l=t,v):l},v.keyPrimary=function(e){return arguments.length?(t=e,v):"undefined"!==typeof t?t:function(t){return t[0]}},v.sortPrimary=function(t){return arguments.length?(p=t,v):"undefined"!==typeof p?p:y.a},v.keySecondary=function(t){return arguments.length?(e=t,v):"undefined"!==typeof e?e:function(t){return t[1]}},v.sortSecondary=function(t){return arguments.length?(m=t,v):"undefined"!==typeof m?m:y.a},v.value=function(t){return arguments.length?(r=t,v):"undefined"!==typeof r?r:function(t){return t[2]}},v.width=function(t){return arguments.length?(n=t,v):"undefined"!==typeof n?n:400},v.height=function(t){return arguments.length?(a=t,v):"undefined"!==typeof a?a:600},v.barSize=function(t){return arguments.length?(o=t,v):"undefined"!==typeof o?o:35},v.min=function(t){return arguments.length?(u=t,v):"undefined"!==typeof u?u:0},v.orient=function(t){return arguments.length?(i=t,v):"undefined"!==typeof i?i:"vertical"},v.pad=function(t){return arguments.length?(c=t,v):"undefined"!==typeof c?c:0},v.duration=function(t){return arguments.length?(f=t,v):"undefined"!==typeof f?f:500},v.edgeOpacity=function(t){return arguments.length?(h=t,v):"undefined"!==typeof h?h:.4},v.edgeMode=function(t){return arguments.length?(g=t,v):"undefined"!==typeof g?g:"curved"},v.bars=function(t){var e={primary:[],secondary:[]},r={primary:[],secondary:[]},n={primary:v.keyPrimary(),secondary:v.keySecondary()},a=v.orient();return o("primary"),o("secondary"),u("primary"),u("secondary"),function(){var t=v.min()/2;e.primary.forEach((function(e){e.height<t&&(e.height=t)})),e.secondary.forEach((function(e){e.height<t&&(e.height=t)}))}(),{mainBars:e.primary.concat(e.secondary),subBars:r.primary.concat(r.secondary),edges:function(){var t=y.b(r.secondary,(function(t){return t.index})),e=v.edgeMode();return r.primary.map((function(e){var r=t.get(e.index);return{path:"vertical"===a?n(e.x+e.width,e.y+e.height,r.x-r.width,r.y+r.height,r.x-r.width,r.y-r.height,e.x+e.width,e.y-e.height):i(e.x-e.width,e.y+e.height,r.x-r.width,r.y-r.height,r.x+r.width,r.y-r.height,e.x+e.width,e.y+e.height),primary:e.primary,secondary:e.secondary,value:e.value,percent:e.percent}}));function n(t,r,n,a,i,o,u,c){if("straight"===e)return["M",t,",",r,"L",n,",",a,"L",i,",",o,"L",u,",",c,"z"].join("");var s=(t+n)/2,l=(i+u)/2;return["M",t,",",r,"C",s,",",r," ",s,",",a,",",n,",",a,"L",i,",",o,"C",l,",",o," ",l,",",c,",",u,",",c,"z"].join("")}function i(t,r,n,a,i,o,u,c){if("straight"===e)return["M",t,",",r,"L",n,",",a,"L",i,",",o,"L",u,",",c,"z"].join("");var s=(r+a)/2,l=(o+c)/2;return["M",t,",",r,"C",t,",",s," ",n,",",s,",",n,",",a,"L",i,",",o,"C",i,",",l," ",u,",",l,",",u,",",c,"z"].join("")}}()};function i(e,r){return"undefined"===typeof t||t.part===r||n[t.part](e)===t.key}function o(t){function r(e){return i(e,t)?v.value()(e):0}var n=y.c().key("primary"===t?v.keyPrimary():v.keySecondary()).sortKeys("primary"===t?v.sortPrimary():v.sortSecondary()).rollup((function(t){return y.e(t,r)})).entries(v.data()),o=c(n,v.pad(),v.min(),0,"vertical"===a?v.height():v.width()),u=v.barSize();n.forEach((function(r,n){e[t].push({x:"horizontal"===a?(o[n].s+o[n].e)/2:"primary"===t?u/2:v.width()-u/2,y:"vertical"===a?(o[n].s+o[n].e)/2:"primary"===t?u/2:v.height()-u/2,height:"vertical"===a?(o[n].e-o[n].s)/2:u/2,width:"horizontal"===a?(o[n].e-o[n].s)/2:u/2,part:t,key:r.key,value:r.value,percent:o[n].p})}))}function u(t){function n(e){return i(e,t)?v.value()(e):0}var o=y.b(e[t],(function(t){return t.key}));y.c().key("primary"===t?v.keyPrimary():v.keySecondary()).sortKeys("primary"===t?v.sortPrimary():v.sortSecondary()).key("secondary"===t?v.keyPrimary():v.keySecondary()).sortKeys("secondary"===t?v.sortPrimary():v.sortSecondary()).rollup((function(t){return y.e(t,n)})).entries(v.data()).forEach((function(e){var n=o.get(e.key),i=c(e.values,0,0,"vertical"===a?n.y-n.height:n.x-n.width,"vertical"===a?n.y+n.height:n.x+n.width),u=v.barSize();e.values.forEach((function(o,c){r[t].push({x:"vertical"===a?"primary"===t?u/2:v.width()-u/2:(i[c].s+i[c].e)/2,y:"horizontal"===a?"primary"===t?u/2:v.height()-u/2:(i[c].s+i[c].e)/2,height:("vertical"===a?i[c].e-i[c].s:u)/2,width:("horizontal"===a?i[c].e-i[c].s:u)/2,part:t,primary:"primary"===t?e.key:o.key,secondary:"primary"===t?o.key:e.key,value:o.value,percent:i[c].p*n.percent,index:"primary"===t?e.key+"|"+o.key:o.key+"|"+e.key})}))}))}function c(t,e,r,n,a){var i=r/(a-n-2*t.length*e),o=0,u=0,c=y.e(t,(function(t){return t.value}));t.forEach((function(t){t.value<i*c&&(o+=1,u+=t.value)}));var s=c<1e-5?0:(a-n-2*t.length*e-o*r)/(c-u),l=n,d=[];return t.forEach((function(t){var n=t.value*s;d.push({s:l+e+(n<r?.5*(r-n):0),e:l+e+(n<r?.5*(r+n):n),p:c<1e-5?0:t.value/c}),l+=2*e+(n<r?r:n)})),d}},v.update=function(t){s=t;var e=v.bars(),r=v.duration();d.selectAll(".subBars").data(e.subBars).transition().duration(r).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",w).attr("y",k).attr("width",b).attr("height",x),d.selectAll(".edges").data(e.edges).transition().duration(r).attr("d",(function(t){return t.path})).style("fill-opacity",v.edgeOpacity()),d.selectAll(".mainBars").data(e.mainBars).transition().duration(r).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",w).attr("y",k).attr("width",b).attr("height",x).style("fill-opacity",0)},v.mouseover=function(t){var e=v.bars(t);d.selectAll(".mainBars").filter((function(e){return e.part===t.part&&e.key===t.key})).select("rect").style("stroke-opacity",1),d.selectAll(".subBars").data(e.subBars).transition().duration(v.duration()).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",w).attr("y",k).attr("width",b).attr("height",x);var r=d.selectAll(".edges").data(e.edges);r.filter((function(e){return e[t.part]===t.key})).transition().duration(v.duration()).style("fill-opacity",v.edgeOpacity()).attr("d",(function(t){return t.path})),r.filter((function(e){return e[t.part]!==t.key})).transition().duration(v.duration()).style("fill-opacity",0).attr("d",(function(t){return t.path})),d.selectAll(".mainBars").data(e.mainBars).transition().duration(v.duration()).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",w).attr("y",k).attr("width",b).attr("height",x)},v.mouseout=function(t){var e=v.bars();d.selectAll(".mainBars").filter((function(e){return e.part===t.part&&e.key===t.key})).select("rect").style("stroke-opacity",0),d.selectAll(".subBars").data(e.subBars).transition().duration(v.duration()).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",w).attr("y",k).attr("width",b).attr("height",x),d.selectAll(".edges").data(e.edges).transition().duration(v.duration()).style("fill-opacity",v.edgeOpacity()).attr("d",(function(t){return t.path})),d.selectAll(".mainBars").data(e.mainBars).transition().duration(v.duration()).attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})).select("rect").attr("x",w).attr("y",k).attr("width",b).attr("height",x)},v}},m=p,g=(r(50),Object(f.a)(function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).container=null,r}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.renderSankey()}},{key:"componentDidUpdate",value:function(){this.renderSankey()}},{key:"renderSankey",value:function(){var t=this.props.store,e=window.innerHeight,r=Object(h.a)(this.container);r.select("svg").remove();var n=r.append("svg").attr("width",960).attr("height",e-10).append("g").attr("transform","translate(200,50)"),a=m.bP().data(t.data).min(12).pad(1).height(e-200).width(500).fill((function(){return"#3F51B5"}));n.call(a),n.selectAll(".mainBars").append("text").attr("class","label").attr("x",(function(t){return"primary"===t.part?-30:30})).attr("y",(function(){return 6})).text((function(t){return t.key})).attr("text-anchor",(function(t){return"primary"===t.part?"end":"start"}))}},{key:"render",value:function(){var t=this;return 0===this.props.store.data.length?a.a.createElement("h3",{className:"no-data-text"},"No data to show."):a.a.createElement("div",{ref:function(e){return t.container=e}})}}]),e}(a.a.Component))),v=r(31),w=r.n(v),k=(r(52),function(t){function e(){var t,r;Object(u.a)(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).onFileChange=function(t){var e=t.target.files[0];if(e){var n=new FileReader;n.addEventListener("load",(function(t){r.props.store.raw=JSON.parse(t.target.result)})),n.readAsBinaryString(e)}},r}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.a.createElement("input",{type:"file",onChange:this.onFileChange})}}]),e}(a.a.Component)),b=(r(53),Object(f.a)((function(t){var e=t.store;return a.a.createElement("div",{className:"slider-container"},a.a.createElement("input",{type:"range",min:0,max:1,step:5e-4,value:e.threshold,onChange:function(t){return e.threshold=+t.target.value},className:"slider"}),a.a.createElement("input",{type:"number",min:0,max:1,step:"any",value:e.threshold,onChange:function(t){return e.threshold=+t.target.value},className:"slider-text"}))}))),x=Object(f.a)((function(t){var e=t.store;return a.a.createElement("div",{className:"sidebar-container"},a.a.createElement("h2",null,"Alignment file"),a.a.createElement(k,{store:e}),a.a.createElement("h2",null,"Score threshold"),a.a.createElement(b,{store:e}),a.a.createElement("h2",null,"Frames"),a.a.createElement(w.a,{items:e.frames,onChange:function(t){return e.selected=t},itemHeight:30,wrapperClassName:"multi-select-wrapper"}))})),B=r(32),E=r(1),O=function(){function t(){Object(u.a)(this,t),this.raw=[],this.selected=[],this.threshold=.1}return Object(c.a)(t,[{key:"data",get:function(){var t=this,e=new Set(this.selected.map((function(t){return t.id})));return this.raw.filter((function(r){return(e.has(r[0])||e.has(r[1]))&&r[2]>=t.threshold}))}},{key:"frames",get:function(){return Object(B.a)(new Set(this.raw.map((function(t){return t[0]})).concat(this.raw.map((function(t){return t[1]}))))).sort().map((function(t){return{id:t,label:t}}))}}]),t}();Object(E.g)(O,{raw:E.l,selected:E.l,threshold:E.l,data:E.d,frames:E.d});var j=new O;var A=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(x,{store:j}),a.a.createElement("div",{className:"App-body"},a.a.createElement(g,{store:j})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.153a26cd.chunk.js.map